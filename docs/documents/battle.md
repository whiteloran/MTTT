# 战斗场景

*这一部分是武力战斗场景的相关规则。*

## 概述

在战斗场景，我们会分为三个部分来介绍具体的规则：小规模的战斗，大规模的战争与少对多的不对称战斗。无论什么战斗，它们都有着相似的规则。
在一般的小规模战斗中，GM和PC们不需要考虑我们在前一节讲述的场景三大因素——因为通常的小规模战斗仅需将敌方歼灭即为胜利。但显然，在战斗场景中，我们是可以用上一节的场景共性来做出分别处理的。
现在，我们来具体看看每个不同的战斗场景。

## 小规模战斗

*单挑、小队作战、团队对战等小规模武力冲突都适用于小规模战斗的规则。*

### 战斗资源与战斗数值

在战斗中，我们需要先了解一下战斗内的单位拥有的战斗资源与一些关键数值。

#### 生命点数HP

显然，HP就是角色的生命值。在MTTT规则中，HP最低为0。当HP降到0后，角色即进入**无助**状态。HP主要由体质属性决定，对照如下：

| 体质属性等级 | 获得生命点 | 总生命点数 |
| ------------------ | ---------- | ---------- |
| 10                  | 0                 | 5|
| 11                  | 0                 | 5          |
| 12                  | 1                 | 6          |
| 13                  | 0                 | 6          |
| 14                  | 1                 | 7          |
| 15                  | 0                 | 7          |
| 16                  | 1                 | 8          |
| 17                  | 0                 | 8          |
| ……                  |                   | ……          |
| 20                  | 1                 | 10          |
| 30                 | 1                | 15         |

>参照秩序/歪曲规则，我们知道每1点**致命伤害**造成的**HP（致命）**损失会临时提高目标1点**歪曲点数**，这些临时**歪曲点数**会在HP恢复后消失。在MTTT规则中，HP没有负数，一旦**HP=0**，目标陷入无助。故也不可能令HP为负来获得额外歪曲点数。


#### 伤害Dam

伤害是魔法少女的法术或是武装对目标的HP造成的损伤。在MTTT中，伤害主要分为两类：**制敌伤害**和**致命伤害**。
对于**制敌伤害**来说，通常在目标的**先导度**大于0时，只会对目标（和发起攻击角色）的**先导度**造成影响，但需要注意，偶尔**制敌伤害**能够削减目标的**HP**，我们标记为**HP（受制）**。若是**致命伤害**，则造成的伤害将提高目标等同于所受**致命伤害**的**歪曲点数**。当**歪曲点数**达到一定数量后，将进入新的**歪曲阶段**。

角色进行攻击时玩家需要选择进行**制敌攻击**还是**致命攻击**。制敌攻击会降低目标的**先导度**，同时还能让攻击者的**先导度**提高目标降低的数值。**致命攻击**则直接对目标的**HP**造成伤害，具体伤害取决于攻击者的**先导度**。

**制敌攻击**就像电影里令战斗的紧张氛围不断升温的动作，是由戏剧性推动的战斗机制：灵剑和护甲相击迸射出火花，魔法少女化作旋风席卷整个战场，将她们身周的事物破坏殆尽。这些交锋使战斗逐渐升温、接近尾声——在电影中，战斗始于武术家之间的轻招和试探，或是两名剑客之间的试图突破局面的交兵。

由于**制敌攻击**是战斗节奏的重心，所以它受到所有战场中的有利条件影响——她们的武器威力、战斗力、以及铠甲防御。在战斗中，参战者持有的有利条件越多，她也就越容易占据上风！

被**制敌攻击**“击中”的敌人会在某些方面陷入不利。她可能会因为被逼入死角无法回避而陷入不利，或是被一招侧击破坏了重心，又或是被暴雨般的连击裹挟无从脱身——但是这些攻击并不会直接放倒她。**制敌攻击**只会伤害目标的**先导度**，它们对目标造成的伤害实际上只是皮外伤。

如果说**制敌攻击**是构成魔法少女间的大部分交锋的电影元素，那么**致命攻击**就是一场战斗的转折乃至结果。角色能够通过一次**致命攻击**以戏剧化的方式结束整场战斗，掷骰的结果决定它是完全成功、部分成功、还是直接失败了。

成功的**致命攻击**会对敌人的健康层级造成伤害。这可能是玩家以手中灵剑直穿敌人、斩落仇寇头颅、用战锤敲碎了敌人骨头、一记直击太阳穴的凶猛回旋踢。角色能够使用她积攒的**先导度**结束战斗——至少是试图结束战斗。致命攻击失败的角色会失去一些有利条件，甚至反而遭受敌人的攻击。

由于**致命攻击**是通过**制敌攻击**积攒的先导度所造成的结果，所以参战者的武器品质影响极其有限。即使是一名手持匕首、身份低微的凡人也能在恰当的时机击败一名魔法少女。



>制敌攻击和剧情性：

需要明确的是，**制敌攻击**和**致命攻击**只是抽象的游戏概念。***MTTT***世界中的人对此毫无认识；撇开佯攻之类的因素不谈，大多数**制敌攻击**主观上都是为了杀伤敌人。玩家和GM通过宣言**制敌攻击**和**致命攻击**来营造令人满意和激动人心的战斗；但对于角色来说，每一劈每一刺都是全力以赴。

一般来说，**制敌攻击**都是打偏的攻击——敌人与剑刃擦身而过，又或是攻击被敌人的铠甲所阻挡。**制敌攻击**应当被描述为认真的战斗行为——角色使用此类攻击通常是为了杀伤对手。你也可以把**制敌攻击**描述成试图转移敌人注意力的佯攻，或是为了达成致命一击而摆的复杂架势。但“我削弱对手来夺取一些先导度”永远是无效描述，**先导度**是局势和战术优势的抽象系统——你必须做些什么才能建立优势。它并非是参战者能够毫无阻碍的获取的东西。


#### 歪曲阶段（CP，Chaos Phase）
	
对于BOSS以及一些有特殊特质的单位来说，她们拥有名为歪曲阶段CP的特殊指标。
这个规则非常简单，拥有CP的单位免疫**制敌伤害**。这意味着只有通过**致命伤害**来阶段式的对抗这类敌人。

#### 每回合法术力MP

所有角色的每回合法术力将在回合开始时同时恢复，MP决定了每个角色每回合能够使用的法术力，MPM决定了MP的上限。
在战斗中，角色的MP不能超过其法术力池的容量上限——就是在法术一节中我们用魔法少女的全属性值规定的秩序法术力池和歪曲法术力池。

>注意，在战斗场景中，人物的法术力池容量仅仅影响人物每回合可用的MP上限。不需要考虑将人物每回合使用的法术力求和后的结果与法术力池的容量比较。

#### 法术力上限MPM与展开法术力池

同样正如那一节所述，在战斗开始时，我们需要展开每个角色的法术力池。在一开始时，所有角色的法术力池都处于未展开的状态，或者说其MPM=0。
在每回合开始时，我们会根据**活化速度**来展开每个单位的法术力池，直到达到目标的秩序/歪曲法术力池容量。通常情况下，**活化速度**仅仅与战场中的**长河单位**（常常就是魔法少女与魔物）的数量引发的**魔力共鸣**有关，如下表：

|长河单位数量|增加的活化速度|总活化速度|
|----|----|----|
|1|+1|+1|
|2|+0|+1|
|3|+1|+2|
|4|+0|+2|
|5|+1|+3|
|6|+0|+3|
|7|+1|+4|
|8|+0|+4|
|9+|+1|+5|

>这里给出一个例子：

#### 先导度（Priority；Pr）

**先导度**决定了人物执行标准动作的顺序。人物的先导度如下计算。

```tex
In = D20 + 人物的敏捷属性调整值 + 其他加值（如果有的话）
```

在战斗刚刚开始时，我们使用上述公式计算先导度，而后，每一轮根据前一轮结束后，先导度变化的结果来确定新一轮角色们的行动顺序。

角色以先导度从高到低的顺序行动。先导度相同的角色同时行动。即使角色的先导度在此轮中发生了变化，她在一轮中也只能进行一个战斗动作。先导度会始终保持，直到其发生变化或场景结束。在所有参战者都行动过后（“进行过自己回合”），将会开始下一轮。

>主导度变动和同步动作:
由于法术被引入了游戏，角色的主导度可能会在一轮中频繁地上下变动。如果还没进行过自己回合的角色突然获得了大量主导度，以至于比已经进行过自己回合的角色还要高该怎么办？如果主导度比现在的时点还要高该怎么继续回合？
角色不能因为这样的情况而错失自己在此轮中的回合。如果角色主导度的变化使她应该在更早的时候进行自己的回合，那么她将在下一个时点进行自己的回合。
最后，如果有两名角色在同一时点行动，那么决定谁先动作就会变得非常重要，如果两名角色攻击同一个目标，并同时让他陷入主导崩溃会如何？他们无法同时获得主导度加值——所以先攻击的是谁？如果其中一名玩家愿意让另一名玩家先行动，那就如他所愿。如果两名玩家都想先行动，那就通过投硬币来打破僵局。


>主导崩溃:
角色的主导度降至0或以下的状态就是主导崩溃。他完全失去了对战局的控制力。处于主导崩溃状态下的角色将适用以下特殊规则：
主导崩溃的角色所有防护都被视为0（见p.195），无论其是由什么法术或装备所提供。除非该法术或装备特别指出提供的防护在主导崩溃中也有效。 
主导崩溃的角色无法进行关键攻击。
主导崩溃的角色无法使用带有危机（Perilous）描述符的秘法。
 制敌攻击能够正常影响处于主导崩溃状态的角色，使他的主导度降至负数并提升攻击者的主导度。但是，如果ST认为处于主导崩溃的角色已经面对攻击者毫无还手之力，他的存在只会给予玩家一个“免费”的主导度来源，她可以宣布处于主导崩溃状态的角色在下一次受到成功的制敌攻击时会被击败。
如果角色连续三回合都处于主导崩溃状态，他的主导度将在下一回合开始时重置为3。或者说“重置为基础主导度”。
如果一名角色因为自己的动作而陷入主导崩溃（像是在只有2主导度的时候进行需要消费2主导度的撤退动作），他将立刻额外失去5主导度。

>主导突破:
当角色通过攻击迫使对手陷入主导崩溃状态时，他将获得主导突破加值。主导突破加值会使主导度增加5。角色不会从敌人从主导崩溃中恢复的轮和后续的轮中获取主导突破加值。
如果有一名角色被迫自行陷入主导崩溃状态（例如使用需要消费主导度的秘法），这时主导突破加值将在ST的决定下给予最直接迫使该角色作出此行为的对手。

>主导逆转:
当角色处于主导崩溃状态时，如果能够将使角色陷入主导崩溃的对手陷入主导崩溃，角色的主导度会重置为基础主导度（如果这会使角色主导度下降，则不会重置）同时进行参战掷骰，把这个掷骰的结果加入角色的主导度中。角色的回合也将刷新：重置角色进行过的战斗或移动动作，使角色能够立刻再次行动；不过，如果这个刷新的动作被用于攻击，角色只能攻击角色刚才实现逆转的角色。
如果一名角色因为自己的动作而陷入主导崩溃（例如通过使用撤退动作），她将无法实现主导逆转。








#### 动作

在战斗场景中，人物每一轮只能执行一个标准动作。只要满足条件，瞬间动作的使用没有限制。

接下来，我们来看下具体的战斗流程。

***

### 战斗流程

#### 开始

#### 准备阶段

在战斗开始时，我们先进入**战斗准备**阶段。

其中的*第一步*，是确认所有参与战斗的**动态对象**的当前状态，包括属性、常驻效果和装备等。

然后我们开始进行*第二步*，确认所有参战单位的**法术力池**，包括各单位的法术力数量、法术力比值等。

*最后一步*，确定行动顺序——所有参与战斗的动态单位投掷**先导度**，根据先导度确定行动顺序——也即是轮执行者的顺序。

#### 主要阶段：战斗回合

##### 阶段1：解放法力

**第一回合：**根据**活化速度**（通常基于战场人数）展开所有参战单位的部分**法术力池**，直到达到目标的**法术力池容量** （通常需要2-5个回合），作为该回合该单位所能用的总法力量，记为**活化法力量**。

**第一回合后的每个回合：**解放法力阶段，继续展开**法术力池**（也就是重复第一回合的动作）。然后，将所有单位的可用法术力刷新到此时的**活化法力量**。

>例子：

##### 阶段2：行动轮

根据行动顺位，依次执行各单位的**轮（turn）**，各个单位的轮合起来，构成了一个**回合（round）**。理论上，各个**轮**是同时进行的，每个**轮**对应着一段微小的物理时间，在MTTT中我们不会给出它的具体数值，你可以视为dt。

一个行动轮包括：轮开始，轮响应，获得标准动作，主动步骤（消耗标准动作），轮结束。一共5个部分。

在每一个**轮**开始后，结算所有该**轮**的执行者单位上的**轮响应**。

该**轮**的执行者会获得一个**标准动作**。

当该轮的执行玩家消耗完毕所有的**标准动作**或是主动选择结束当前**轮**（未消耗的**标准动作**将被视为已经消耗）时，进入当**轮**的结束阶段。准备开始下一个执行权玩家的**行动轮**。

**轮**开始前，**轮**开始后，结算**轮响应**，轮执行者获得标准动作前后，消耗标准动作，**轮**结束前后，下一**轮**开始前——都是可以进行插入阶段的时点。（未注明*前*，*时*，*后*的则为时点均可。）

#### 阶段3：结算法力

在所有单位的**行动轮**都结束后，结算各个单位的剩余法力，法术力池影响。

计算**先导度**变化的结果，确定新一轮角色们的行动顺序。

然后开始下一个战斗回合，直到战斗结束。


#### 中途加入：在战斗回合中，出现新的参战单位的处理

对于中途加入的参战单位，令其进行计算**先导度**。若是有准备的参战者，则在本轮中，其**先导度**的位置开始首次行动；若是无准备的参战者，则在下一轮其**先导度**的位置开始首次行动。

#### 插入阶段：瞬间法术与战时触发效果

这是一个可能存在的阶段。

因为瞬间法术使用**瞬间动作**，故只要法术力支持、施法条件支持，瞬间法术可以在**战斗回合阶段2：行动轮**中的任何**时点**使用。同理，因为战时触发效果不消耗**标准动作**，故只要法术力支持、触发条件发生，战时触发效果将在任何最先它被触发的时点*响应*触发效果。当一个瞬间法术被施展、或一个战时触发效果被触发，我们视为进入了*中断（interrupt）*，将会先行处理该瞬间法术或战时触发效果。

具体来说，在任何单位准备行动、正在行动或是将要结束当前行动的同时，可能施展瞬间法术的单位都可以选择施展*（like push）*瞬间法术。同理，任何单位的行动都可能触发其它单位的战时触发效果，其它单位（可以）选择响应触发，结算效果。在施展瞬间法术（响应战时触发效果）的同时，任何单位（包括当前瞬间法术施展者本身）都可以在该瞬间法术准备结算的基础上堆叠*（like push）*更多的瞬间法术与/或响应更多的战时触发效果。

若没有其它瞬间法术被施展或战时触发效果被响应，则直接结算*（like pop）*该瞬间法术或战时触发效果，然后退出*中断*，回到回合中继续执行当前行动（若仍可执行）与后续行动。若有其它瞬间法术被施展或战时触发效果被响应，则遵循*堆栈（stack）*的原则，最后施展的瞬间法术或被响应的战时触发效果最先结算，然后依次判断次后施展的瞬间法术或被响应的战时触发效果的合法性，若是合法则依次结算。注意，在结算过程中，任意次序的瞬间法术或被响应的战时触发效果准备结算时，都可以在此结算时点上，插入*（like push）*更多的瞬间法术（但不可能响应相同的战时触发效果，因为其触发在上一次结算时点已经触发）。然后，继续根据*堆栈*的原则，依次处理*（like pop）*所有的瞬间法术与/或被响应的战时触发效果直到处理完毕，退出*中断*，回到当前战斗回合。


*可选·禁用插入阶段*：虽然由于法术力池与灵魂玉数量的限制，插入阶段不可能堆栈过多。但如果认为插入阶段过于繁琐、影响游戏体验，GM可以直接禁用这一阶段。由于这个阶段本身就是外挂在战斗规则之上，故不会对平衡产生过多影响。


#### 结束阶段

在战斗结束后，统计各单位的状态，包括包括体力、属性、法术力池、常驻效果和装备等。

#### 结束

战斗流程大致如上，接下来我们来看战斗中能进行的行动。


### 战斗行动

#### 攻击与防御：

通常而言，攻击动作需要消耗1个标准动作。当目标在你的攻击距离内，你即可尝试发动攻击。使用双骰法进行命中成功与否的检定。
```tex
Attack_H = D20 + 武器的攻击加值 + 人物的武装对应技能等级 + 技能对应的属性调整值 + 其他加值（如果有的话）
```
```tex
Attack_L = D20 + 武器的攻击加值 + 人物的武装对应技能等级 + 技能对应的属性调整值 + 其他加值（如果有的话）
```

>充能：魔法少女可以在攻击时投入一定数量的秩序法术力强化你的攻击。通常来说，投入$X$秩序法术力，将会提供$X$的命中提升和$\frac{X}{2}$的伤害提升。注意，角色必须在投骰前即声明投入的$X$。

被攻击的对象在面对攻击时通常有以下选择：

一名处于战斗中的角色肯定会尽力保证自己生存。所以保护自己不需要花费动作——这一行为一直持续着！这通过防御来表现。

角色能够通过格挡或闪避攻击来保护自己。这两者的技术水平由格挡和闪避评级体现。

1. 格挡：使用你的武器（或服装）或做如下计算，使用格挡是一个静态值。
```tex
Attack_H = 15 + 人物的武装等级 + 技能对应的属性调整值 + 其他加值（如果有的话）
```
```tex
Attack_L = 5 + 人物的武装等级 + 技能对应的属性调整值 + 其他加值（如果有的话）
```

2. 闪避：使用运动（战斗闪避）技能做闪避检定，使用闪避是一个动态值。

```tex
Dodge_H = D20 + 人物的运动（战斗闪避）等级 + 敏捷属性调整值 + 其他加值（如果有的话）
```
```tex
Dodge_L = D20 + 人物的运动（战斗闪避）等级 + 敏捷属性调整值 + 其他加值（如果有的话）
```

有些效果会注明影响的是格挡还是闪避，而那些直接对防御造成影响的效果会同时影响格挡和闪避（由受击者选择对抗检定）。

最后，有一种针对防御的特殊减值，名为**猛攻减值**。每当角色受到一名对手攻击时，该角色就会在该次攻击结束后，于防御上受到-1减值，直到下个他的回合到来。因此，即使是强大的魔法少女也应避免一次面对太多对手。


>充能：魔法少女可以在格挡/闪避/防御时投入一定数量的秩序法术力强化你的应对能力。通常来说，投入$X$秩序法术力，将会提供$X$的额外加值。同样，注意，角色必须在投骰前即声明投入的$X$。

若是在这次成功/失败检定中，攻击发起者成功了，其攻击造成的伤害如下计算：

```tex
Damage = XDX（武器的基础伤害） + 武器的伤害加值 + 使用武器技能对应的属性调整值 + 其他加值（如果有的话）- 目标AR + 1
```

**处理制敌攻击**

如果攻击成功，确定其原始伤害（Raw damage）。原始伤害是攻击在被抵御之前的伤害点数。从攻击的原始伤害中减去目标的抵御，即为造成的**制敌伤害**。最后结果不会低于武器的**穿透**等级。

首先，你因为成功地进行了一次**制敌攻击**而获得了一点先导度。然后，从目标的先导度中减去这个数值，然后把相同的数值加到你角色的先导度中。


**处理关键攻击**

进行失败的关键攻击会带来惩罚，请谨慎选择发动关键攻击的时机！和制敌攻击一样，在开始之前先要选择角色正要使用的战斗能力。

第一步：掷（敏捷+[相关战斗能力]+任何调整值），难度为目标的防御。在这个掷骰中你无法计入武器的精准。如果掷骰失败，且你当前的先导度在1-10之间，你的角色将失去2先导度。如果先导度11+且攻击失败，你的角色将失去3先导度。

第二步：如果攻击成功，掷等于你当前的先导度的骰子。此掷骰不适用双10规则（p.183）。如果你的目标拥有的防护（p. 195）等于或大于你的伤害池，你无法造成伤害但是你的攻击仍然视为成功；继续第四步。

第三步：计算在先导度掷骰中取得的成功数。对目标的健康层级造成等量的伤害。伤害类型由你使用的武器决定（见第195页）。

第四步：如果攻击成功，将角色的先导度重置为3（也被称为“重置为基础值”）。


#### 施法：

大部分的标准法术（spell）都需要消耗1个标准动作。有些法术虽然不需要消耗标准动作，但其类型并非瞬间，则角色仍然不能在自己的轮之外施放这些法术。

施法的效果以及有关检定参照对应法术本身。

在很多情况下，法术可以视作攻击，这种时候我们称其为*攻击法术*。对于*攻击法术*，我们将按照攻击规则进行处理。而可以造成伤害其它法术，其造成的也基本上是**制敌伤害**。


#### 移动：

因为动态对象的机动作战，我们可以认为所有单位都是同时在进行移动和执行动作的。同理，在此过程中的插入阶段也会同时影响行动和移动，不可能单独影响行动或是移动（即，有些玩家的表述会把行动和移动分开，但这并不意味着在这个‘分开’处的时点执行插入阶段能够仅仅影响行动或是移动。）

在战斗中，移动分为两种：维持距离，改变距离。

因为距离是相对的，在战斗中，维持和其它目标的相对距离不需要消耗动作。而若是需要改变与目标的相对距离，通常情况下，改变1等级的距离需要消耗一个**标准动作**。


#### 燃玉

仅在进行BOSS战斗时开放的规则。通过燃烧灵魂玉（点数）来暂时性增强战斗能力。

#### 燃玉点数的使用

燃玉点数能够以一个等差数列的形式，用点数增幅投掷骰子的结果。燃玉视为一个瞬发动作。例如，角色能以1+2+3点燃玉点数，增幅一个骰子的数值3点。
对于dX，此增幅的点数视为改变天然骰值。故，由燃玉将dx骰推向满骰时可以触发满骰效果。显然，在一个dx骰子上能投入的最大燃玉点数等于将其变为满骰的点数。若是一个骰子有+x，则可以任意投入拥有的燃玉点数进行增幅。若一个骰子并非dx+x，仅为dX，则角色不能进行+x的燃玉点数投入。在dx+x骰上，玩家可以随意在DX和+x上投入不同的燃玉点数。

#### 燃玉点数的获得

燃玉点数的获得分为两个阶段。第一阶段，在启动燃玉后，立刻转化角色剩余的所有灵魂玉为燃玉点数。
在第一阶段结束后，第二阶段开始。角色在本次战斗中，可以以瞬发动作将已经投入使用的灵魂玉(也即用于购买了属性或是物品或是法术等等的灵魂玉)按照自己的意愿转化为等值的燃玉点数。例如，玩家可以将一个购买时使用了500点灵魂玉的法术转化为500点燃玉点数，或是将一个18点的属性降到16，以获得30点燃玉点数。
在第二阶段中，燃烧已转化的灵魂玉带来的损失，包括法术失去或是属性降低等等，都将在本次战斗结束后再进行结算。

#### 燃玉点数的消失

未使用的燃玉点数将在本次战斗结束后消失。

### 范例