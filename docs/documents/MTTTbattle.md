# 武力战斗

*这一部分是武力战斗相关规则。*

### 介绍





### 流程

#### 开始

#### 准备阶段

##### 阶段1：战斗准备

在战斗开始时，我们先进入**战斗准备**阶段。

其中的*第一步*，是确认所有参与战斗的**动态对象**的当前状态，包括属性、常驻效果和装备等。

然后我们开始进行*第二步*，确认所有参战单位的**法术力池**，包括各单位的法术力数量、法术力比值等。

*最后一步*，确定行动顺序——所有参与战斗的动态单位投掷**先攻**，根据先攻确定行动顺序——也即是轮执行者的顺序。

#### 主要阶段：战斗回合

##### 阶段1：解放法力

**第一回合：**根据**活化速度**（通常基于战场人数）展开所有参战单位的部分**法术力池**，直到达到目标的**法术力池上限** （通常需要2-5个回合），作为该回合该单位所能用的总法力量，记为**活化法力量**。
**第一回合后的每个回合：**解放法力阶段，继续展开**法术力池**（也就是重复第一回合的动作）。然后，将所有单位的可用法术力刷新到此时的**活化法力量**。

>例子：

##### 阶段2：行动轮

根据行动顺位，依次执行各单位的**轮（turn）**，各个单位的轮合起来，构成了一个**回合（round）**。理论上，各个**轮**是同时进行的，同一回合内的每一个**轮**都对应着同一个6秒的时间。一个**回合**的用时即为6秒。

一个行动轮包括：轮开始，轮响应，获得小节，主动步骤（消耗小节），轮结束。一共5个部分。

在每一个**轮**开始后，结算所有该**轮**的执行者单位上的**轮响应**。

该**轮**的执行者会获得两组*平行*的6个**小节（bar）**，包括6个**小节**和6个**移动小节**。

因为动态对象的机动作战，我们可以认为所有单位都是同时在进行移动和执行动作的。同理，在此过程中的插入阶段也会同时影响行动和移动，不可能单独影响行动或是移动（即，有些玩家的表述会把行动和移动分开，但这并不意味着在这个‘分开’处的时点执行插入阶段能够仅仅影响行动或是移动。）

通过消耗**小节**，轮执行者得以执行动作，包括普通攻击，施法，使用物品等，这些都会消耗不同数目的**小节**。而**移动小节**这种确定了前提的小节，则只能单纯用于执行移动动作（*一些特质可能让玩家得以利用移动小节进行指定的其它行动*）。在消耗小节后，一般直接结算小节行动的结果。

当该轮的执行玩家消耗完毕所有的**小节**或是主动选择结束当前**轮**（未消耗的**小节**将被视为已经消耗）时，进入当**轮**的结束阶段。准备开始下一个执行权玩家的**行动轮**。

**轮**开始前，**轮**开始后，结算**轮响应**，轮执行者获得小节前后，消耗小节，**轮**结束前后，下一**轮**开始前——都是可以进行插入阶段的时点。（未注明*前*，*时*，*后*的则为时点均可。）

##### 阶段3：结算法力

在所有单位的**行动轮**都结束后，结算各个单位的剩余法力，法术力池影响。

然后开始下一个战斗回合，直到战斗结束。



##### 中途加入：在战斗回合中，出现新的参战单位的处理

无准备的加入战斗者：

有准备的加入战斗者：

##### 插入阶段：瞬间法术与战时触发效果

这是一个可能存在的阶段。

因为瞬间法术不消耗**小节**数，故只要法术力支持、施法条件支持，瞬间法术可以在**战斗回合阶段2：行动轮**中的任何**时点**使用。同理，因为战时触发效果不消耗**小节**数，故只要法术力支持、触发条件发生，战时触发效果将在任何最先它被触发的时点*响应*触发效果。当一个瞬间法术被施展、或一个战时触发效果被触发，我们视为进入了*中断（interrupt）*，将会先行处理该瞬间法术或战时触发效果。

具体来说，在任何单位准备行动、正在行动或是将要结束当前行动的同时，可能施展瞬间法术的单位都可以选择施展*（like push）*瞬间法术。同理，任何单位的行动都可能触发其它单位的战时触发效果，其它单位（可以）选择响应触发，结算效果。在施展瞬间法术（响应战时触发效果）的同时，任何单位（包括当前瞬间法术施展者本身）都可以在该瞬间法术准备结算的基础上堆叠*（like push）*更多的瞬间法术与/或响应更多的战时触发效果。

若没有其它瞬间法术被施展或战时触发效果被响应，则直接结算*（like pop）*该瞬间法术或战时触发效果，然后退出*中断*，回到回合中继续执行当前行动（若仍可执行）与后续行动。若有其它瞬间法术被施展或战时触发效果被响应，则遵循*堆栈（stack）*的原则，最后施展的瞬间法术或被响应的战时触发效果最先结算，然后依次判断次后施展的瞬间法术或被响应的战时触发效果的合法性，若是合法则依次结算。注意，在结算过程中，任意次序的瞬间法术或被响应的战时触发效果准备结算时，都可以在此结算时点上，插入*（like push）*更多的瞬间法术（但不可能响应相同的战时触发效果，因为其触发在上一次结算时点已经触发）。然后，继续根据*堆栈*的原则，依次处理*（like pop）*所有的瞬间法术与/或被响应的战时触发效果直到处理完毕，退出*中断*，回到当前战斗回合。



*可选·禁用插入阶段*：虽然由于法术力池与灵魂玉数量的限制，插入阶段不可能堆栈过多。但如果认为插入阶段过于繁琐、影响游戏体验，GM可以直接禁用这一阶段。由于这个阶段本身就是外挂在战斗规则之上，故不会对平衡产生过多影响。



#### 结束阶段

##### 阶段1：战斗结算

在战斗结束后，统计各单位的状态，包括包括体力、属性、法术力池、常驻效果和装备等。

#### 结束



<div STYLE="page-break-after: always;"></div>

### 小节与行动

#### 攻击：

通常而言，攻击动作需要消耗6个小节。



#### 施法：

大部分的标准法术（spell）都需要消耗6个小节。











### 范例